<!DOCTYPE html>
<html lang="zh-CN"  xmlns:th="http://www.thymeleaf.org">
<head >
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>注册界面</title>
    <script type="text/javascript" src="/jquery/jquery-3.2.1.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/bootstrapvalidator-0.4.5/dist/js/bootstrapValidator.js"></script>
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="/bootstrapvalidator-0.4.5/dist/css/bootstrapValidator.css"  />
    <script type="text/javascript">
        $(document).ready(function() {
            $('#Form').bootstrapValidator({
                message: 'This value is not valid',
                feedbackIcons: {
                    valid: 'glyphicon glyphicon-ok',
                    invalid: 'glyphicon glyphicon-remove',
                    validating: 'glyphicon glyphicon-refresh'
                },
                fields: {
                    userAccount: {
                        message: '接收请求人的ID验证失败',
                        validators: {
                            notEmpty: {
                                message: '账号名不能为空'
                            },
                            stringLength: {
                                min: 2,
                                max: 6,
                                message: '账号长度必须在2到6位之间'
                            },
                            remote: {//ajax验证。server result:{"valid",true or false} 向服务发送当前input name值，获得一个json数据。例表示正确：{"valid",true}
                                url: '/jquery/exist.do',//验证地址
                                message: '账号名已存在',//提示消息
                                delay: 1000,//每输入一个字符，就发ajax请求，服务器压力还是太大，设置2秒发送一次ajax（默认输入一个字符，提交一次，服务器压力太大）
                                type: 'POST',//请求方式
                                data:{userName:function(){return $('#userAccount').val();}},
                            }
                        }
                    },
                    userName: {
                        message: '用户名验证失败',
                        validators: {
                            notEmpty: {
                                message: '用户名不能为空'
                            },
                            stringLength: {
                                min: 2,
                                max: 6,
                                message: '用户名长度必须在2到6位之间'
                            },
                            remote: {//ajax验证。server result:{"valid",true or false} 向服务发送当前input name值，获得一个json数据。例表示正确：{"valid",true}
                                url: '/jquery/exist2.do',//验证地址
                                message: '用户名已存在',//提示消息
                                delay: 1000,//每输入一个字符，就发ajax请求，服务器压力还是太大，设置2秒发送一次ajax（默认输入一个字符，提交一次，服务器压力太大）
                                type: 'POST',//请求方式
                                data:{userName:function(){return $('#userName').val();}},
                            }
                        }
                    },
                    submitHandler: function (validator, form, submitButton) {
                        alert("submit");
                    }
                }
            })

        })
    </script>

</head>
<body>
<form id="Form" name="Form" action="/registerUser"  method="get" data-bv-message="This value is not valid"
      data-bv-feedbackicons-valid="glyphicon glyphicon-ok"
      data-bv-feedbackicons-invalid="glyphicon glyphicon-remove"
      data-bv-feedbackicons-validating="glyphicon glyphicon-refresh">
    <div class="form-group ">
        <label  for="userAccount">账户名</label>
        <input name="userAccount" type="text" class="form-control" id="userAccount" placeholder="userAccount"/>
        <span id="tishi"></span>
    </div>
    <div class="form-group">
        <label for="userName">用户名</label>
        <input name="userName" type="text" class="form-control" id="userName" placeholder="userName"/>
    </div>
    <div class="form-group">
        <label for="userPassword">密码</label>
        <input type="password" name="userPassword" class="form-control" id="userPassword" placeholder="Password"/>
    </div>
    <div class="form-group">
        <label for="userAddress">住址</label>
        <input  name="userAddress" class="form-control" id="userAddress" type="text"/>
    </div>
    <div class="row">
        <div class="form-group  col-lg-6">
            <label class="control-label col-lg-3" for="userTypeGuidGender" >选择用户性别：</label>
            <div class="col-lg-9">
                <select name="userTypeGuidGender" id="userTypeGuidGender" class="form-control">
                    <option th:each="typex:${types}" th:value="${typex.typeGuid}" th:text="${typex.typeTitle}" ></option>
                </select>
            </div>
        </div>
        <div class="form-group  col-lg-6">
            <label class="control-label col-lg-3" for="userCommGuid" >所属小区：</label>
            <div class="col-lg-9">
                <select name="userCommGuid" id="userCommGuid" class="form-control">
                    <option th:each="communities:${communities}" th:value="${communities.commGuid}" th:text="${communities.commTitle}" ></option>
                </select>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label class="radio-inline">
            <input type="radio" name ="userRole" id="inlineCheckbox1" value="Tourist"> 游客
        </label>
    </div>
    <button type="submit" class="btn btn-default">Submit</button>
</form>
</body>

</html>